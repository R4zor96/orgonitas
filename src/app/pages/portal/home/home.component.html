<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Orgonitas Sagradas</title>
  </head>
  <body>
    <!-- NAV -->
    <nav class="navbar navbar-expand-lg custom-navbar sticky-top shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="recursos/icono.png" alt="png" width="90" height="70" style="object-fit: cover; border-radius: 70%; margin-right: 8px;">
          Mirror
        </a>
        <button
          class="navbar-toggler text-light"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#menu"
          aria-controls="menu"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Men√∫ ‚ñº
        </button>
        <div class="collapse navbar-collapse" id="menu">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#inicio">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#que-es">¬øQu√© es?</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#productos">Productos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contacto">Contacto</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" (click)="openRegisterModal(registerModal)">
                Registrarse
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" (click)="openLoginModal(loginModal)">
                Iniciar Sesi√≥n
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link position-relative"
                href="#"
                (click)="openCartModal(cartModal)"
              >
                üõí
                <span
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                >
                  {{ contadorCarrito }}
                </span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>



    <!-- HERO CON PATR√ìN -->
    <section id="inicio" class="hero-cracked d-flex align-items-center">
      <div class="container text-center">
        <h1 class="display-4 fw-bold">¬°Tecnolog√≠a Energ√©tica para un Mundo en Armon√≠a!</h1>
        <p class="lead">Protege tu hogar y tu esencia m√°s aut√©ntica</p>
        <a href="#productos" class="btn btn-custom mt-3">Ver productos</a>
      </div>
    </section>

    <!-- ¬øQU√â ES UNA ORGONITA? -->

    <section id="que-es" class="section-light py-5">
      <div class="container">
        <div class="row align-items-center">
          <!-- Columna: texto -->
          <div class="col-md-6 mb-4 mb-md-0">
            <h2 class="mb-4" style="color: #f1f1f1;">¬øQu√© es una Orgonita?</h2>
            <p class="mb-3">
              Una orgonita es una herramienta de armonizaci√≥n energ√©tica, creada con una fusi√≥n cuidadosa de resina de alta calidad, metales conductores (como virutas de hierro o cobre) y cristales de cuarzo.            </p>
            <p class="mb-4">
              Su dise√±o no es solo est√©tico: cada pieza es un equilibrio entre ciencia y espiritualidad.
            <p>
              En Mirror, todas nuestras orgonitas vienen previamente activadas con una bobina Tesla, utilizando energ√≠a fr√≠a para potenciar su capacidad de limpieza y sintonizaci√≥n desde el primer momento.
            </p>
          </div>

          <!-- Columna: slider de productos -->
          <div class="col-md-6">
            <div class="custom-slider-container">
              <button class="slider-arrow" (click)="prev()">‚ùÆ</button>

              <div class="product-card custom-product-card" *ngIf="filteredProducts.length > 0">
                <img
                  class="product-img"
                  [src]="filteredProducts[currentIndex].imagen"
                  [alt]="filteredProducts[currentIndex].nombre"
                />
                <div class="product-content">
                  <h3 class="product-title">{{ filteredProducts[currentIndex].nombre }}</h3>
                  <p class="product-desc">{{ filteredProducts[currentIndex].descripcion }}</p>
                  <p class="product-price">${{ filteredProducts[currentIndex].precio | currency:'USD ' }}</p>
                  <a href="#productos" class="btn btn-custom mt-3">Ver productos</a>
                </div>
              </div>

              <div *ngIf="filteredProducts.length === 0">
                <p style="color: #ccc;">No hay productos que coincidan con los filtros.</p>
              </div>

              <button class="slider-arrow" (click)="next()">‚ùØ</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ¬øPreguntas frecuentes? -->
     <section class="faq-section container py-5" id="faq">
      <h2 class="fw-bold mb-4">Las Preguntas M√°s Frecuentes.</h2>
      <p class="mb-5">
        En Mirror, queremos que tu experiencia sea clara, sencilla y llena de confianza. Aqu√≠ respondemos las preguntas m√°s comunes sobre nuestras orgonitas, env√≠os, cuidados y mucho m√°s. Si no encuentras lo que buscas, no dudes en contactarnos.
      </p>

      <div class="accordion" id="accordionFAQ">
        <div class="accordion-item">
          <h2 class="accordion-header" id="faq1">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
              ¬øPara que Sirve una Orgonita?
            </button>
          </h2>
          <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">

              <p class="mb-4">
              Las orgonitas son compa√±eras ideales para:
              <p>

              <p class="mb-4">
              Transformar espacios: Limpian energ√≠as densas o estancadas (llamadas "energ√≠a DOR") en hogares, oficinas o lugares de meditaci√≥n.
              <p>

               <p class="mb-4">
              Protecci√≥n electromagn√©tica: Neutralizan campos electromagn√©ticos (EMF) de dispositivos electr√≥nicos, como routers, tel√©fonos o computadoras.
              <p>

                <p class="mb-4">
              Amplificar intenciones: Potencian pr√°cticas espirituales, meditaci√≥n o rituales gracias a la conexi√≥n con los cristales.
              <p>

                <p class="mb-4">
              Equilibrio emocional: Ayudan a calmar la mente, reducir el estr√©s y reconectar con tu energ√≠a esencial.
              <p>

            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq2">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
              ¬øC√≥mo funcionan las Orgonitas?
            </button>
          </h2>
          <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">

              <p class="mb-4">
              El secreto est√° en la piezoelectricidad del cuarzo:
              <p>

              <p class="mb-4">
              Al comprimir el cristal de cuarzo dentro de la resina, sus electrones se alinean, generando una carga el√©ctrica suave.
              <p>

              <p class="mb-4">
              Esta carga crea un campo electromagn√©tico toroidal (en forma de donut) que act√∫a como un "filtro energ√©tico".
              <p>

              <p class="mb-4">
              El campo atrae la energ√≠a DOR (desorganizada o da√±ina) y la transforma en energ√≠a limpia y equilibrada, mientras absorbe y armoniza los EMF del entorno.
              <p>

              <p class="mb-4">
              Gracias a la activaci√≥n con bobina Tesla, este proceso se intensifica, asegurando que tu orgonita llegue a ti lista para actuar con m√°xima eficacia.
              <p>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq3">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
              ¬øC√≥mo funcionan las Orgonitas?
            </button>
          </h2>
          <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">

              <p class="mb-4">
              ¬°Depende de lo que busques! Si sientes que:
              <p>

              <p class="mb-4">
              Tu espacio est√° cargado o te cuesta relajarte en casa.
              <p>

              <p class="mb-4">
              Pasas horas frente a dispositivos electr√≥nicos y notas fatiga o estr√©s.
              <p>

              <p class="mb-4">
              Deseas potenciar tu conexi√≥n espiritual o crear un ambiente propicio para la meditaci√≥n...
              <p>

              <p class="mb-4">
              Una orgonita puede ser tu aliada perfecta. No es un producto "m√°gico", sino una herramienta basada en principios cient√≠ficos y ancestrales para apoyar tu bienestar de manera hol√≠stica.
              <p>

            </div>
          </div>
        </div>

        <!-- Agrega m√°s items como desees -->
      </div>
    </section>



    <!-- PRODUCTOS -->
    <section id="productos" class="section-dark">
      <div class="container">
        <h2 class="text-center mb-4">Nuestros Productos</h2>

        <!-- Filtros -->
        <div class="row mb-3">
          <div class="col-md-4 mb-2">
            <input
              type="text"
              class="form-control"
              placeholder="Buscar por nombre..."
              [(ngModel)]="filterNombre"
              (input)="applyFilters()"
            />
          </div>
          <div class="col-md-4 mb-2">
            <input
              type="number"
              class="form-control"
              placeholder="Precio m√≠nimo"
              [(ngModel)]="filterPrecioMin"
              (input)="applyFilters()"
            />
          </div>
          <div class="col-md-4 mb-2">
            <input
              type="number"
              class="form-control"
              placeholder="Precio m√°ximo"
              [(ngModel)]="filterPrecioMax"
              (input)="applyFilters()"
            />
          </div>
          <div class="col-md-6 mb-2">
            <select class="form-select" [(ngModel)]="ordenarPor" (change)="applyFilters()">
              <option value="">Ordenar por...</option>
              <option value="precio-asc">Precio (menor a mayor)</option>
              <option value="precio-desc">Precio (mayor a menor)</option>
              <option value="nombre-asc">Nombre (A-Z)</option>
              <option value="nombre-desc">Nombre (Z-A)</option>
            </select>
          </div>
          <div class="col-md-6 mb-2 text-md-end">
            <button class="btn btn-secondary w-100" (click)="limpiarFiltros()">
              Limpiar filtros
            </button>
          </div>
        </div>

        <!-- Productos -->
        <div class="row g-4">
          <!-- Mensaje si no hay productos -->
          <div *ngIf="filteredProducts.length === 0" class="text-center mt-4">
            <p>No se encontraron productos.</p>
          </div>

          <!-- Lista de productos -->
          <div *ngFor="let product of filteredProducts" class="col-md-4">
            <div class="product-card p-3 text-center">
              <img
                [src]="product.imagen"
                class="img-fluid mb-3"
                [alt]="product.nombre"
              />
              <h5>{{ product.nombre }}</h5>
              <p>{{ product.precio | currency:'USD ' }}</p>
              <button class="btn btn-custom" (click)="openProductModal(productModal, product)">
                Comprar
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal de producto (usando ng-bootstrap) -->
    <ng-template #productModal let-modal>
      <div class="modal-content bg-dark text-white">
        <div class="modal-header border-secondary">
          <h5 class="modal-title">{{ selectedProduct?.nombre }}</h5>
          <button type="button" class="btn-close btn-close-white" (click)="modal.dismiss()" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body d-flex flex-column flex-md-row align-items-center gap-4">
          <img
            [src]="selectedProduct?.imagen"
            alt="Imagen Producto"
            class="img-fluid rounded shadow"
            style="max-width: 300px"
          />
          <div>
            <h4>{{ selectedProduct?.nombre }}</h4>
            <p class="fw-bold text-success">{{ selectedProduct?.precio | currency:'USD ' }}</p>
            <p class="text-light">{{ selectedProduct?.descripcion }}</p>
            <div class="mb-2">
              <label for="modal-cantidad" class="form-label">Cantidad:</label>
              <input
                type="number"
                class="form-control border-gold bg-dark text-white rounded-3 shadow-sm"
                [(ngModel)]="cantidad"
                min="1"
                style="width: 100px"
              />
            </div>
            <button class="btn btn-custom mt-2" (click)="agregarAlCarrito(); modal.close()">
              Agregar al carrito
            </button>
          </div>
        </div>
      </div>
    </ng-template>
    <!-- Modal del carrito (usando ng-bootstrap) -->
    <ng-template #cartModal let-modal>
      <div class="modal-content bg-dark text-white">
        <div class="modal-header border-secondary">
          <h5 class="modal-title">Tu carrito</h5>
          <button type="button" class="btn-close btn-close-white" (click)="modal.dismiss()"></button>
        </div>
        <div class="modal-body">
          <ul class="list-group mb-3">
            <li *ngFor="let item of carrito; let i = index" class="list-group-item d-flex justify-content-between align-items-center bg-dark text-white border-secondary">
              <div class="d-flex align-items-center">
                <img [src]="item.imagen" alt="{{ item.nombre }}" class="me-3 rounded" style="width: 50px; height: 50px; object-fit: cover;">
                <div>
                  <strong>{{ item.nombre }}</strong><br>
                  <small>{{ item.precio | currency:'USD ' }} x {{ item.cantidad }}</small>
                </div>
              </div>
              <div>
                <span class="fw-bold">{{ (item.precio * item.cantidad) | currency:'USD ' }}</span>
                <button class="btn btn-sm btn-danger ms-2" (click)="eliminarDelCarrito(i)">√ó</button>
              </div>
            </li>
          </ul>
          <div class="text-end fw-bold">
            Total: {{ totalCarrito | currency:'USD ' }}
          </div>
        </div>
        <div class="modal-footer border-secondary">
          <button class="btn btn-success" (click)="finalizarCompra(); modal.close()">Finalizar compra</button>
          <button class="btn btn-secondary" (click)="modal.dismiss()">Cerrar</button>
        </div>
      </div>
    </ng-template>

    <!-- Modal Registro -->
    <ng-template #registerModal let-modal>
      <div class="modal-content custom-register-modal">
        <div class="modal-header">
          <h5 class="modal-title">Registro</h5>
          <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
        </div>
        <div class="modal-body custom-register-modal">
        <!-- Datos Personales -->
        <h5 class="section-title">Datos Personales</h5>
        <div class="row">
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="Nombre" [(ngModel)]="registerData.nombre" name="nombre" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="Apellido Paterno" [(ngModel)]="registerData.apellidoPaterno" name="apellidoPaterno" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="Apellido Materno" [(ngModel)]="registerData.apellidoMaterno" name="apellidoMaterno" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="Celular" [(ngModel)]="registerData.celular" name="celular" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="email" class="form-control" placeholder="Correo" [(ngModel)]="registerData.correo" name="correo" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="password" class="form-control" placeholder="Contrase√±a" [(ngModel)]="registerData.password" name="password" />
          </div>
        </div>

        <!-- Direcci√≥n -->
        <h5 class="section-title">Direcci√≥n</h5>
        <div class="row">
          <div class="col-md-8 mb-3">
            <input type="text" class="form-control" placeholder="Calle" [(ngModel)]="registerData.calle" name="calle" />
          </div>
          <div class="col-md-4 mb-3">
            <input type="text" class="form-control" placeholder="N√∫mero" [(ngModel)]="registerData.numero" name="numero" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="Colonia" [(ngModel)]="registerData.colonia" name="colonia" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="C√≥digo Postal" [(ngModel)]="registerData.cp" name="cp" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="Municipio" [(ngModel)]="registerData.municipio" name="municipio" />
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" placeholder="Estado" [(ngModel)]="registerData.estado" name="estado" />
          </div>
          <div class="col-12 mb-3">
            <textarea class="form-control" placeholder="Referencias" rows="2" [(ngModel)]="registerData.referencias" name="referencias"></textarea>
          </div>
        </div>

          <!-- Rol oculto -->
          <input type="hidden" [(ngModel)]="registerData.rol" name="rol" />
        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" (click)="modal.dismiss()">Cancelar</button>
          <button class="btn btn-primary" (click)="register()">Registrarse</button>
        </div>
      </div>
    </ng-template>

    <!-- Modal Inicio de Sesi√≥n -->
    <ng-template #loginModal let-modal>
      <div class="modal-content custom-register-modal">
        <div class="modal-header">
          <h5 class="modal-title">Iniciar Sesi√≥n</h5>
          <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
        </div>
      </div>
      <div class="modal-body custom-register-modal">
        <form (ngSubmit)="login()" #loginForm="ngForm">

          <div class="mb-3">
            <h5 for="email" class="section-title">Correo electr√≥nico</h5>
            <input type="email" placeholder="Correo electr√≥nico" class="form-control" id="email" name="email" [(ngModel)]="loginData.correo" required />
          </div>
          <div class="mb-3">
            <h5 for="password" class="section-title">Contrase√±a</h5>
            <input type="password" placeholder="Contrase√±a" class="form-control" id="password" name="password" [(ngModel)]="loginData.password" required />
          </div>
          <button type="submit" class="btn btn-custom" [disabled]="!loginForm.form.valid">Entrar</button>
        </form>
      </div>
    </ng-template>

    <!-- CONTACTO -->
    <section id="contacto" class="section-light">
      <div class="container text-center">
        <h2>Cont√°ctanos</h2>
        <p>
          ¬øTienes dudas o deseas un dise√±o personalizado? Escr√≠benos v√≠a
          WhatsApp, Instagram o Tiktok.
        </p>
        <a href="https://chat.whatsapp.com/EAUdsJ22q87LldJ3LvMYVZ" class="btn btn-custom me-2"
          >WhatsApp</a
        >
        <a href="https://www.instagram.com/mirroor369?igsh=MTd1a3VoeWxuajN4cA==" class="btn btn-custom me-2"
          >Instagram</a
        >
        <a href="https://www.tiktok.com/@elyanyshow?_t=ZS-8ye7CpA3qIy&_r=1" class="btn btn-custom"
          >Tiktok</a
        >
      </div>
    </section>

    <!-- FOOTER -->
    <footer>
      <div class="container text-center">
        <p>&copy; 2025 Mirror ¬∑ Dise√±ado con intenci√≥n y amor</p>

        <p>Dise√±ados para resonar con personas que ya est√°n en sinton√≠a con temas espirituales, energ√©ticos y de bienestar hol√≠stico.</p>

        <p>
          <a href="#inicio">Inicio</a> ¬∑ <a href="#productos">Productos</a> ¬∑
          <a href="#contacto">Contacto</a>
        </p>
      </div>
    </footer>

  </body>
  </html>
